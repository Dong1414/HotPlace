<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="/layouts/layout">

<th:block layout:fragment="content">
	<link rel="stylesheet" th:href="@{/css/login.css}" />
	<script src="https://static.nid.naver.com/js/naveridlogin_js_sdk_2.0.2.js" charset="utf-8"></script>
	<!-- <script type="text/javascript" src="https://static.nid.naver.com/js/naverLogin_implicit-1.0.3.js" charset="utf-8"></script> -->
	<section class="form-wrap">
		<div class="form-view-area">
			<div class="form-area">
				<div class="login-form">
					<h1>LOGIN</h1>
					<div class="login-info">
						<form id="loginForm" method="post">
							<label class="none" for="id">아이디</label>
							<input class="form-control fs-3 h-55" type="text" id="mberId" name="mberId" th:value="${mberId}" placeholder="아이디를 입력해주세요."/>
							<label class="none" for="password">비밀번호</label>
							<input class="form-control fs-3 h-55" type="password" id="mberPassword" name="mberPassword" placeholder="비밀번호를 입력해주세요."/>
							<div th:if="${loginMsg != null}" th:text="${loginMsg}" class="mb1 red"></div>
							<button class="login-action-btn btn btn-primary fs-3 ps-4 pe-4 fw-bold" onclick="fnLoginAction();" type="submit">로그인</button>
							
							<div id="naverIdLogin" style="display:none;"></div>
							<button type="button" id="naverLogin" class="naver fs-3 ps-4 pe-4 fw-bold" ><img src="/images/naver-login-icon.png"/>네이버 로그인</button>
							
							<!-- <div style="width:100%; height:4rem; margin-bottom:1.5rem; text-align:center; background-color: #03C75a; border-radius: 0.375rem;">
								
							</div> -->
							
							<!-- <button class="kakao-login-btn btn btn-warning fs-3 ps-4 pe-4 text-white" type="button">카카오로그인</button> -->
						</form>
					</div>
					<nav class="member-area">
						<a href="/login/signUpView.do">회원가입</a>
						<nav class="member-find">
							<ul>
								<li><a href="#">아이디찾기</a></li>
								<li><a href="#">비밀번호찾기</a></li>
							</ul>
						</nav>
					</nav>
				</div>
			</div>
		</div>
	</section>
<script th:inline="javascript">

/* var naver_id_login = new naver_id_login("BnnFdxOxX_s_KECsc0rX", "http://localhost:8082/map/getMyMapView.do");
var state = naver_id_login.getUniqState();
naver_id_login.setDomain("http://localhost:8082");
naver_id_login.setState(state);
naver_id_login.init_naver_id_login();
 */
 
var naverLogin = new naver.LoginWithNaverId({
	 clientId: 'BnnFdxOxX_s_KECsc0rX',
	 callbackUrl: 'http://localhost:8082/map/getMyMapView.do',
	 isPopup: false,
	 loginButton: {color: "green", type: 3, height: 50}		 
});
naverLogin.init();

$(document).on("click", "#naverLogin", function(){ 
	var btnNaverLogin = document.getElementById("naverIdLogin").firstChild;
	btnNaverLogin.click();
});
 
function fnLoginAction(){
	if($('#mberId').val() == '' || !$('#mberId').val()){
		alert('아이디를 입력해주세요.');
		return false;
	}
	
	if($('#mberPassword').val() == '' || !$('#mberPassword').val()){
		alert('비밀번호를 입력해주세요.');
		return false;
	}
	
	$('#loginForm').attr('action', '/login/loginView/loginAction.do');
	$('#loginForm').submit();
}
</script>
</th:block>
</html>